<?php    $this->load->view('site/includes/header');    $disabled = 'false';    $exp_type = $listDetail->row()->exp_type;?><div class="manage_items">    <div class="toggleMenuD">        <div class="bar1"></div>        <div class="bar2"></div>        <div class="bar3"></div>    </div>    <?php//     echo "<pre>";// print_r($listDetail);exit();        $this->load->view('site/experience/experience_head_side');    ?>    <div class="centeredBlock">        <div class="content">            <h3><?php if ($this->lang->line('CancellationPolicy') != '') {                    echo stripslashes($this->lang->line('CancellationPolicy'));                } else echo "Cancellation Policy"; ?></h3>            <p><?php if ($this->lang->line('CancellationPolicy_exp') != '') {                    echo stripslashes($this->lang->line('CancellationPolicy_exp'));                } else echo "Choose your cancellation Policy"; ?></p>            <div>                <p class="text-danger error"                   style="display: none;"><?php if ($this->lang->line('exp_fill_all_fields') != '') {                        echo stripslashes($this->lang->line('exp_fill_all_fields'));                    } else echo "Please fill all mandatory fields"; ?></p>                <?php                    echo form_open('#', array('onsubmit' => 'return validate_form_new(event)', 'name' => 'experience_cancel_policy', 'id' => 'experience_cancel_policy'));                    echo form_input(array('type' => 'hidden', 'name' => 'experience_id', 'id' => 'experience_id', 'value' => $listDetail->row()->experience_id));                ?>                <div class="form-group">                    <div class="col-md-12">                        <p><?php if ($this->lang->line('CancellationPolicy') != '') {                                echo stripslashes($this->lang->line('CancellationPolicy'));                            } else echo "Cancellation Policy"; ?></p>                        <?php                            $js = array('required' => 'required', 'onChange' => "javascript:show_val(this);");                            echo form_dropdown('cancellation_policy', array('Flexible' => 'Flexible', 'Moderate' => 'Moderate', 'Strict' => 'Strict'), $listDetail->row()->cancel_policy, $js);							//, 'No Return' => 'No Return'                        ?>                    </div>                    <div class="col-lg-12"><p><?php if ($this->lang->line('SecurityDeposit') != '') {                                echo stripslashes($this->lang->line('SecurityDeposit'));                            } else echo "Security Deposit"; ?> <span class="impt">*</span></p></div>                    <div class="col-md-4 col-sm-4">                        <?php                            echo form_input('currency', $currentCurrency_type, array('id' => 'cur_name', 'readonly' => 'true'));                        ?>                    </div>                    <div class="col-md-8 col-sm-8">                        <?php                            echo form_input('sec_deposit', ($listDetail->row()->security_deposit > 0) ? $listDetail->row()->security_deposit : '', array('id' => 'sec_deposit', 'onchange' => "javascript:experienceDetailview(this," . $listDetail->row()->id . ",'security_deposit');"));                        ?>                    </div>                    <div class="col-md-12" id="return_amount_percentage"                         <?php if ($listDetail->row()->cancel_policy == 'No Return'){ ?>style="display:none" <?php } ?>>                       <?php if ($this->lang->line('enter_amt') != '') { $rtn_amt= stripslashes($this->lang->line('enter_amt'));  } else $rtn_amt= "Enter your return amount"; ?>                        <p><?php if ($this->lang->line('return_amount_property') != '') {                                echo stripslashes($this->lang->line('return_amount_property'));                            } else echo "Return Amount"; ?> <span class="impt">*</span></p>                        <div class="input-group">                            <input type="text" maxlength="2"                                   value="<?php echo $listDetail->row()->cancel_percentage; ?>"                                   onkeypress="return isNumberKey(event)"                                   id="cancel_percentage" name="cancel_percentage"                                   placeholder="<?php echo $rtn_amt; ?>"                                   required <?php if ($listDetail->row()->cancel_policy == 'No Return' || $listDetail->row()->cancel_policy == 'Strict' || $listDetail->row()->cancel_policy == 'Moderate') { ?> readonly <?php } ?>/><span                                    class="input-group-addon">%</span>                        </div>                    </div>                    <div class="col-md-12">                        <p><?php if ($this->lang->line('list_Description') != '') {                                echo stripslashes($this->lang->line('list_Description'));                            } else echo " Description"; ?> <span class="impt">*</span></p>                        <?= form_textarea('cancel_policy_des', $listDetail->row()->cancel_policy_des, array('id' => 'cancel_policy_des', 'placeholder' => ($this->lang->line('list_Description') != '') ? stripslashes($this->lang->line('list_Description')) : "Description", 'onkeyup' => 'char_count(this)', 'maxlength' => 250)); ?>                        <p>                            <?php                                $string = str_replace(' ', '', $listDetail->row()->cancel_policy_des);                                $len = mb_strlen($string, 'utf8');                                $remaining = (250 - $len);                            ?>                            <span id="cancel_policy_des_char_count"><?= $remaining; ?></span> <?php if ($this->lang->line('exp_characters_remaining') != '') {                                echo stripslashes($this->lang->line('exp_characters_remaining'));                            } else echo "characters remaining"; ?></p>                        <!-- In Arabic dynamic --->                         <?php  foreach(language_dynamic_enable("cancel_policy_des", "") as $dynlang) { ?>                        <p><?php if ($this->lang->line('list_Description') != '') {                                echo stripslashes($this->lang->line('list_Description'));                            } else echo " Description"; ?>(<?php echo $dynlang[0]; ?>)<span class="impt">*</span></p>                        <?= form_textarea($dynlang[1], $listDetail->row()->{$dynlang[1]}, array('id' => 'cancel_policy_des_ar', 'placeholder' => ($this->lang->line('list_Description') != '') ? stripslashes($this->lang->line('list_Description')) : "Description", 'onkeyup' => 'char_count(this)', 'maxlength' => 250)); ?>                        <p>                            <?php                                $string = str_replace(' ', '', $listDetail->row()->{$dynlang[1]});                                $len = mb_strlen($string, 'utf8');                                $remaining = (250 - $len);                            ?>                            <span id="cancel_policy_des_char_count"><?= $remaining; ?></span> <?php if ($this->lang->line('exp_characters_remaining') != '') {                                echo stripslashes($this->lang->line('exp_characters_remaining'));                            } else echo "characters remaining"; ?></p>                            <?php } ?>                    </div>                </div>                <?php if ($listDetail->row()->meta_title == "" && $listDetail->row()->meta_keyword == "" && $listDetail->row()->meta_description == "") { ?>                    <div class="form-group" id="ShowSeo">                        <div class="col-md-12">                            <p><?php if ($this->lang->line('Want to add SEO tags') != '') {                                    echo stripslashes($this->lang->line('Want to add SEO tags'));                                } else echo "Want to add SEO tags"; ?>?&nbsp;<a                                        onclick="show_block_cate()"><?php if ($this->lang->line('You can add') != '') {                                        echo stripslashes($this->lang->line('You can add'));                                    } else echo "You can add"; ?></a>.</p>                        </div>                    </div>                    <?php                }                ?>                <div id="SEOContainer" class="form-group"                     <?php if ($listDetail->row()->meta_title == "" && $listDetail->row()->meta_keyword == "" && $listDetail->row()->meta_description == ""){ ?>style="display: none;"<?php } ?>>                    <div class="col-md-12">										                        <h5 class="text-capitalize text-center"><?php if ($this->lang->line('seo_det') != '') {                                        $seo_det= stripslashes($this->lang->line('seo_det'));                                    } else $seo_det= "SEO Details"; ?></h5>                    </div>                    <div class="col-md-12">                        <p><?php if ($this->lang->line('Meta Title') != '') {                                echo stripslashes($this->lang->line('Meta Title'));                            } else echo "Meta Title"; ?></p>                        <?= form_input('meta_title', $listDetail->row()->meta_title, array('id' => 'meta_title', 'placeholder' => ($this->lang->line('Meta Title') != '') ? stripslashes($this->lang->line('Meta Title')) : "Meta Title", 'onchange' => "javascript:UpdateSEO(this," . $listDetail->row()->id . ",'meta_title');")); ?>                        <?php  foreach(language_dynamic_enable("meta_title", "") as $dynlang) { ?>                             <p><?php if ($this->lang->line('Meta Title') != '') {                                echo stripslashes($this->lang->line('Meta Title'));                            } else echo "Meta Title"; ?>(<?php echo $dynlang[0]; ?>)<span class="impt">*</span></p>                                                <?= form_input($dynlang[1], $listDetail->row()->{$dynlang[1]}, array('id' => $dynlang[1], 'placeholder' => ($this->lang->line('Meta Title') != '') ? stripslashes($this->lang->line('Meta Title')) : "Meta Title", 'onchange' => "javascript:UpdateSEO(this," . $listDetail->row()->id . ",'$dynlang[1]');")); ?>                                                   <?php } ?>                    </div>                    <div class="col-md-12">                        <p><?php if ($this->lang->line('keywords') != '') {                                echo stripslashes($this->lang->line('keywords'));                            } else echo "keywords"; ?></p>                                                        <?php if ($this->lang->line('keywords') != '') {                                $keywrds= stripslashes($this->lang->line('keywords'));                                } else $keywrds= "keywords"; ?>                                                        <?= form_textarea('meta_keyword', $listDetail->row()->meta_keyword, array('id' => 'meta_keyword', 'placeholder' => $keywrds, 'onkeyup' => 'char_count(this)', 'maxlength' => 150, 'onchange' => "javascript:UpdateSEO(this," . $listDetail->row()->id . ",'meta_keyword');")); ?>                                                    <?php  //language                            foreach(language_dynamic_enable("meta_keyword", "") as $dynlang) { ?>                        <p><?php if ($this->lang->line('keywords') != '') {                                echo stripslashes($this->lang->line('keywords'));                            } else echo " keywords"; ?>(<?php echo $dynlang[0]; ?>)<span class="impt">*</span></p>                        <?= form_textarea($dynlang[1], $listDetail->row()->{$dynlang[1]}, array('id' => $dynlang[1], 'placeholder' => $keywrds, 'onkeyup' => 'char_count(this)', 'maxlength' => 150, 'onchange' => "javascript:UpdateSEO(this," . $listDetail->row()->id . ",'$dynlang[1]');")); ?>                                                   <?php } ?>                    </div>                    <div class="col-md-12">                        <p><?php if ($this->lang->line('MetaDescription') != '') {                                echo stripslashes($this->lang->line('MetaDescription'));                            } else echo "Meta Description"; ?></p>                        <?= form_textarea('meta_description', $listDetail->row()->meta_description, array('id' => 'meta_description', 'placeholder' => ($this->lang->line('MetaDescription') != '') ? stripslashes($this->lang->line('MetaDescription')) : "Meta Description", 'onkeyup' => 'char_count(this)', 'maxlength' => 150, 'onchange' => "javascript:UpdateSEO(this," . $listDetail->row()->id . ",'meta_description');")); ?>                        <p>                            <?php                                $string = str_replace(' ', '', $listDetail->row()->meta_description);                                $len = mb_strlen($string, 'utf8');                                $remaining = (150 - $len);                            ?>                            <span id="meta_description_char_count"><?= $remaining; ?></span> <?php if ($this->lang->line('exp_characters_remaining') != '') {                                echo stripslashes($this->lang->line('exp_characters_remaining'));                            } else echo "characters remaining"; ?></p>                                                      <?php  //language                            foreach(language_dynamic_enable("meta_description", "") as $dynlang) { ?>                        <p><?php if ($this->lang->line('MetaDescription') != '') {                                echo stripslashes($this->lang->line('MetaDescription'));                            } else echo " Meta Description"; ?>(<?php echo $dynlang[0]; ?>)<span class="impt">*</span></p>                        <?= form_textarea($dynlang[1], $listDetail->row()->{$dynlang[1]}, array('id' => $dynlang[1], 'placeholder' => $keywrds, 'onkeyup' => 'char_count(this)', 'maxlength' => 150, 'onchange' => "javascript:UpdateSEO(this," . $listDetail->row()->id . ",'$dynlang[1]');")); ?>                        <p>                            <?php                                $string = str_replace(' ', '', $listDetail->row()->{$dynlang[1]});                                $len = mb_strlen($string, 'utf8');                                $remaining = (250 - $len);                            ?>                           <span id="meta_description_char_count"><?= $remaining; ?></span> <?php if ($this->lang->line('exp_characters_remaining') != '') {                                echo stripslashes($this->lang->line('exp_characters_remaining'));                            } else echo "characters remaining"; ?></p>                            <?php } ?>                    </div>                </div>                <div class="clear text-right">                    <?php                        echo form_submit('', ($this->lang->line('Save') != '') ? stripslashes($this->lang->line('Save')) : 'Save', array('class' => 'submitBtn1'));                    ?>                </div>                <?php                    echo form_close();                ?>            </div>        </div>    </div>    <div class="rightBlock">        <h2><i class="fa fa-lightbulb-o"               aria-hidden="true"></i><?php if ($this->lang->line('cancellation_policies') != '') {					echo stripslashes($this->lang->line('cancellation_policies'));					} else echo "Cancellation Policies"; ?></h2>         <p>            <?php if ($this->lang->line('cancellation1_there_can_be') != '') {                echo stripslashes($this->lang->line('cancellation1_there_can_be'));            } else echo "There can be always a change in plans. Help the guests by providing cancelation policy which can help the guests to cancel or modify the bookings."; ?>        </p>        <!--  <p>            <?php if ($this->lang->line('cancellation2_cancel_policy') != '') {                echo stripslashes($this->lang->line('cancellation2_cancel_policy'));            } else echo "Cancellation Policy are of three types. Choose the one which will best suit you:"; ?>        </p>  -->        <p><b> <?php if ($this->lang->line('Flexible') != '') {                echo stripslashes($this->lang->line('Flexible'));            } else echo "Flexible"; ?></b></p>        <p>            <?php if ($this->lang->line('cancellation3_flexible') != '') {                echo stripslashes($this->lang->line('cancellation3_flexible'));            } else echo "The percentage of the amount refunded to guests after some basic deductions. In flexible cancellation, the host can set any cancellation percentage. It could be a 10% or 20% or any percentage of cancellation charges."; ?>.        </p><p><b> <?php if ($this->lang->line('Strict') != '') {                echo stripslashes($this->lang->line('Strict'));            } else echo "Strict"; ?></b></p>        <p>            <?php if ($this->lang->line('cancellation4_strict') != '') {                echo stripslashes($this->lang->line('cancellation4_strict'));            } else echo "99% refund policy fixed by admin, who will refund only 1% after deducting 99% of the amount. Only the security deposit will be refunded in full to the guests."; ?>        </p>        <p><b> <?php if ($this->lang->line('Moderate') != '') {                echo stripslashes($this->lang->line('Moderate'));            } else echo "Moderate"; ?></b></p>        <p>            <?php if ($this->lang->line('cancellation5_moderate') != '') {                echo stripslashes($this->lang->line('cancellation5_moderate'));            } else echo " 50% refund amount to the guests. 50% of the subtotal amount along with the security deposit."; ?>        </p>        <p><b> <?php if ($this->lang->line('SEO') != '') {                echo stripslashes($this->lang->line('SEO'));            } else echo "SEO"; ?></b></p>        <p>            <?php if ($this->lang->line('cancellation6_SEO') != '') {                echo stripslashes($this->lang->line('cancellation6_SEO'));            } else echo "SEO is the Search Engine Optimization. Once you become a host, one might want to increase the traffic of your property."; ?>.        </p>         <p>            <?php if ($this->lang->line('cancellation6_SEO_give') != '') {                echo stripslashes($this->lang->line('cancellation6_SEO_give'));            } else echo "Give the Meta Title and Meta Description to increase the search results in Google page."; ?>        </p>    <!--   <p><?php if ($this->lang->line('exp_detailed_description_about_cancel') != '') {                echo stripslashes($this->lang->line('exp_detailed_description_about_cancel'));            } else echo "HomestayDNN allows hosts to choose among three standardized cancellation policies (Flexible, Moderate, and Strict) that we will enforce to protect both guest and host alike. Guests may cancel and review any penalties by viewing their travel plans and then clicking ‘Cancel’ on the appropriate reservation. A host's cancellation policy can be found in the Cancellations section of their listing page. Guests will also be asked to agree to the host's cancellation policy when they make a booking."; ?></p> -->    </div></div><script>    /*Next button*/    $(document).ready(function () {        $('#next-btn').click(function (e) {            window.location.href = '<?php echo base_url() . "experience/all"; ?>';        });    });    /*Character count */    function char_count(obj) {        value_str = obj.value.trim();        var length = value_str.length;        var maxlength = $(obj).attr('maxlength');        var id = obj.id;        var length = maxlength - length;        $('#' + id + '_char_count').text(length);    }    function isNumberKey(event) {        if (!((event.keyCode >= 65) && (event.keyCode <= 90) || (event.keyCode >= 97) && (event.keyCode <= 122) || (event.keyCode >= 48) && (event.keyCode <= 57))) {            event.returnValue = false;            return;        }        event.returnValue = true;    }    /*Submitting Form*/    function validate_form_new(e) {        cancel_policy_1 = $('#cancel_policy_1').val();        cancel_policy_des = $('#cancel_policy_des').val();        cancel_policy_des_ar = $('#cancel_policy_des_ar').val();        sec_deposit = $('#sec_deposit').val();        cancel_percentage = $('#cancel_percentage').val();        err = 0;        if (sec_deposit == '' || cancel_policy_1 == '' || cancel_policy_des == '') {            err = 1;        }        if (cancel_policy_1 == 'Flexible' || cancel_policy_1 == 'Moderate') {            if (cancel_percentage == '') {                err = 1;            }        }        if (err == 1) {            $('.error').fadeIn('slow', function () {                $(this).delay(5000).fadeOut('slow');            });            return false;        } else {            $('.loading').show();            url = '<?php echo base_url() . "site/experience/add_cancel_policy/" . $id;?>';            $('#experience_cancel_policy').attr('method', 'post');            $('#experience_cancel_policy').attr('action', url).submit();        }    }    function show_val(cancel_value) {        if (cancel_value.value == 'Flexible') {            $('#cancel_percentage').val('0');            $('#cancel_percentage').attr('readonly', false);            $('#return_amount_percentage').show();        }        else if (cancel_value.value == 'Moderate') {            $('#cancel_percentage').val('50');            $('#cancel_percentage').attr('readonly', false);            $('#return_amount_percentage').show();        }        else if (cancel_value.value == 'Strict') {            $('#cancel_percentage').val('99');            $('#cancel_percentage').attr('readonly', false);            $('#return_amount_percentage').show();        }        else if (cancel_value.value == 'No Return') {            $('#cancel_percentage').val('0');            $('#cancel_percentage').attr('readonly', false);            $('#return_amount_percentage').show();        }        else {            $('#return_amount_percentage').hide();        }    }    /*Show hide the Seo Option*/    function show_block_cate() {        $("#ShowSeo").hide();        $("#SEOContainer").show();    }    /*Update Seo In DB*/    function UpdateSEO(evt, catID, chk) {        var title = evt.value;        $.ajax({            type: 'post',            url: baseURL + 'site/experience/UpdateSEO',            data: {'catID': catID, 'title': title, 'chk': chk},            complete: function () {            }        });    }</script>